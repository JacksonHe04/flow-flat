


          
æˆ‘éœ€è¦é˜…è¯» custom-react-flow-node-test-demo ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œäº†è§£æ¯ä¸ªæ–‡ä»¶çš„åŠŸèƒ½å’Œä½œç”¨ã€‚
        
            
toolName: view_files
            
status: success
          
            
filePath: /Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/README.md
/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/index.ts
/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/TestNode.tsx
          
ç»§ç»­æŸ¥çœ‹å…¶ä»–é‡è¦æ–‡ä»¶ï¼Œäº†è§£å®Œæ•´çš„æ–‡ä»¶ç»“æ„å’ŒåŠŸèƒ½ã€‚
        
            
toolName: view_files
            
status: success
          
            
filePath: /Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/DemoNode.tsx
/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/NodeLayoutReplacement.tsx
/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/CustomCodeNode.tsx
          
ç»§ç»­æŸ¥çœ‹å‰©ä½™çš„é‡è¦æ–‡ä»¶ï¼ŒåŒ…æ‹¬ CustomImageNodeã€DemoBoard å’Œ TestBoardã€‚
        
            
toolName: view_files
            
status: success
          
            
filePath: /Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/CustomImageNode.tsx
/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/DemoBoard.tsx
/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/TestBoard.tsx
          
æˆ‘å·²ç»é˜…è¯»äº† `custom-react-flow-node-test-demo` ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä¸‹é¢è¯¦ç»†ä»‹ç»æ¯ä¸ªæ–‡ä»¶çš„åŠŸèƒ½å’Œä½œç”¨ï¼š

## ğŸ“ æ–‡ä»¶åŠŸèƒ½æ¦‚è§ˆ

### 1. <mcfile name="README.md" path="/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/README.md"></mcfile>
**é¡¹ç›®è¯´æ˜æ–‡æ¡£**
- è¯¦ç»†ä»‹ç»äº†æ•´ä¸ªæµ‹è¯•æ¼”ç¤ºç³»ç»Ÿçš„æ¶æ„å’Œä½¿ç”¨æ–¹æ³•
- åŒ…å«æ–‡ä»¶ç»“æ„è¯´æ˜ã€æ ¸å¿ƒç»„ä»¶ä»‹ç»ã€ä½¿ç”¨æŒ‡å—
- æä¾›äº†å¦‚ä½•åœ¨åŸé¡¹ç›®ä¸­é›†æˆæœ¬åœ°åŒ…çš„å…·ä½“æ­¥éª¤
- è¯´æ˜äº†ä¸¤ç§é›†æˆæ–¹å¼ï¼šç›´æ¥æ›¿æ¢å’Œæ¸è¿›å¼è¿ç§»

### 2. <mcfile name="index.ts" path="/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/index.ts"></mcfile>
**ç»Ÿä¸€å¯¼å‡ºæ–‡ä»¶**
- å¯¼å‡ºæ‰€æœ‰æ¼”ç¤ºç»„ä»¶å’Œæµ‹è¯•ç»„ä»¶
- é‡æ–°å¯¼å‡ºæœ¬åœ°åŒ… `custom-react-flow-node` çš„æ‰€æœ‰å†…å®¹
- æä¾›ç»Ÿä¸€çš„å…¥å£ç‚¹ï¼Œæ–¹ä¾¿å…¶ä»–æ¨¡å—å¼•ç”¨

### 3. <mcfile name="TestNode.tsx" path="/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/TestNode.tsx"></mcfile>
**åŸºç¡€æµ‹è¯•èŠ‚ç‚¹ç»„ä»¶**
- æœ€ç®€å•çš„æµ‹è¯•èŠ‚ç‚¹å®ç°
- å°† React Flow çš„ `NodeProps` è½¬æ¢ä¸ºæœ¬åœ°åŒ…çš„ `CustomNodeProps`
- ä½¿ç”¨æœ¬åœ°åŒ…çš„ `Node` ç»„ä»¶è¿›è¡Œæ¸²æŸ“
- ä¸»è¦ç”¨äºéªŒè¯æœ¬åœ°åŒ…çš„åŸºæœ¬åŠŸèƒ½

### 4. <mcfile name="DemoNode.tsx" path="/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/DemoNode.tsx"></mcfile>
**æ¼”ç¤ºèŠ‚ç‚¹ç»„ä»¶**
- æ”¯æŒå¤šç§èŠ‚ç‚¹ç±»å‹çš„æ¼”ç¤ºç»„ä»¶
- è‡ªåŠ¨å¯¼å…¥å¹¶æ³¨å†Œè‡ªå®šä¹‰èŠ‚ç‚¹ç±»å‹ï¼ˆCustomCodeNodeã€CustomImageNodeï¼‰
- æä¾› `getAvailableNodeTypes()` å‡½æ•°è·å–å·²æ³¨å†Œçš„èŠ‚ç‚¹ç±»å‹
- æä¾› `createDemoNode()` è¾…åŠ©å‡½æ•°åˆ›å»ºæ–°èŠ‚ç‚¹
- æ ¹æ® `nodeType` è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ç»„ä»¶è¿›è¡Œæ¸²æŸ“

### 5. <mcfile name="NodeLayoutReplacement.tsx" path="/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/NodeLayoutReplacement.tsx"></mcfile>
**NodeLayout æ›¿ä»£ç»„ä»¶ï¼ˆæ ¸å¿ƒç»„ä»¶ï¼‰**
- ç›´æ¥æ›¿ä»£åŸé¡¹ç›®çš„ `NodeLayout/Node.tsx` ç»„ä»¶
- ä½¿ç”¨æœ¬åœ°åŒ…çš„ `NodeStoreAdapter` ä¸åŸé¡¹ç›®çš„ store ç³»ç»Ÿé›†æˆ
- é€šè¿‡é€‚é…å™¨æ¨¡å¼å…¼å®¹åŸé¡¹ç›®çš„æ‰€æœ‰èŠ‚ç‚¹ç±»å‹ï¼ˆtextã€codeã€imageã€markdownã€todoï¼‰
- åŒæ—¶æ”¯æŒæœ¬åœ°åŒ…çš„è‡ªå®šä¹‰èŠ‚ç‚¹ç±»å‹
- å®ç°äº†æ— ç¼çš„å‘åå…¼å®¹

### 6. <mcfile name="CustomCodeNode.tsx" path="/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/CustomCodeNode.tsx"></mcfile>
**è‡ªå®šä¹‰ä»£ç èŠ‚ç‚¹**
- åŠŸèƒ½ä¸°å¯Œçš„ä»£ç ç¼–è¾‘èŠ‚ç‚¹
- æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€é€‰æ‹©ï¼ˆJavaScriptã€TypeScriptã€Pythonã€Javaã€C++ï¼‰
- åŒå‡»è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå¤±ç„¦è‡ªåŠ¨ä¿å­˜
- ä½¿ç”¨æœ¬åœ°åŒ…çš„ `NodeContainer` å’Œ `NodeHeader` ç»„ä»¶
- è‡ªåŠ¨æ³¨å†Œä¸º `custom-code` èŠ‚ç‚¹ç±»å‹
- åŒ…å«è¯­æ³•é«˜äº®æ ·å¼ï¼ˆç»ˆç«¯é£æ ¼çš„é»‘åº•ç»¿å­—ï¼‰

### 7. <mcfile name="CustomImageNode.tsx" path="/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/CustomImageNode.tsx"></mcfile>
**è‡ªå®šä¹‰å›¾ç‰‡èŠ‚ç‚¹**
- æ”¯æŒå›¾ç‰‡å±•ç¤ºå’Œç¼–è¾‘çš„èŠ‚ç‚¹
- æ”¯æŒä¸¤ç§å›¾ç‰‡æ·»åŠ æ–¹å¼ï¼šURL è¾“å…¥å’Œæ–‡ä»¶ä¸Šä¼ 
- åŒ…å«å›¾ç‰‡ Alt æ–‡æœ¬å’Œæè¿°ä¿¡æ¯ç¼–è¾‘
- åŒå‡»è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œæ”¯æŒå¤šå­—æ®µç¼–è¾‘
- è‡ªåŠ¨æ³¨å†Œä¸º `custom-image` èŠ‚ç‚¹ç±»å‹
- åŒ…å«å›¾ç‰‡åŠ è½½é”™è¯¯å¤„ç†

### 8. <mcfile name="DemoBoard.tsx" path="/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/DemoBoard.tsx"></mcfile>
**ç‹¬ç«‹æ¼”ç¤ºç”»æ¿**
- å®Œå…¨ç‹¬ç«‹çš„ React Flow ç”»æ¿ï¼Œä¸ä¾èµ–åŸé¡¹ç›®çš„ store
- ä½¿ç”¨ `DemoNode` ç»„ä»¶æ¸²æŸ“èŠ‚ç‚¹
- åŒ…å«å·¥å…·æ ï¼Œæ”¯æŒæ·»åŠ ä¸åŒç±»å‹çš„èŠ‚ç‚¹
- æ”¯æŒç”»å¸ƒåŒå‡»åˆ›å»ºèŠ‚ç‚¹
- æ˜¾ç¤ºå·²æ³¨å†ŒèŠ‚ç‚¹ç±»å‹çš„ç»Ÿè®¡ä¿¡æ¯
- é€‚åˆç‹¬ç«‹æµ‹è¯•æœ¬åœ°åŒ…åŠŸèƒ½

### 9. <mcfile name="TestBoard.tsx" path="/Users/jackson/Codes/flow-flat/flow-flat-app/src/components/Node/custom-react-flow-node-test-demo/TestBoard.tsx"></mcfile>
**é›†æˆæµ‹è¯•ç”»æ¿**
- ä¸åŸé¡¹ç›®çš„ `nodeStore` å®Œå…¨é›†æˆçš„æµ‹è¯•ç”»æ¿
- ä½¿ç”¨ `NodeLayoutReplacement` ç»„ä»¶
- èŠ‚ç‚¹æ•°æ®ä¸åŸé¡¹ç›®çš„ store åŒæ­¥
- æ”¯æŒèŠ‚ç‚¹æ‹–æ‹½ä½ç½®æ›´æ–°
- éªŒè¯æœ¬åœ°åŒ…ä¸åŸé¡¹ç›® store ç³»ç»Ÿçš„å…¼å®¹æ€§
- é€‚åˆæµ‹è¯•æ›¿æ¢æ–¹æ¡ˆçš„å¯è¡Œæ€§

## ğŸ”„ ç»„ä»¶å…³ç³»å›¾

```
æœ¬åœ°åŒ… (custom-react-flow-node)
â”œâ”€â”€ Node (æ ¸å¿ƒç»„ä»¶)
â”œâ”€â”€ NodeContainer
â”œâ”€â”€ NodeHeader
â”œâ”€â”€ NodeStoreAdapter
â””â”€â”€ registerNodeType

æµ‹è¯•æ¼”ç¤ºç³»ç»Ÿ
â”œâ”€â”€ TestNode (åŸºç¡€æµ‹è¯•)
â”œâ”€â”€ DemoNode (æ¼”ç¤ºèŠ‚ç‚¹)
â”œâ”€â”€ NodeLayoutReplacement (æ›¿ä»£ç»„ä»¶)
â”œâ”€â”€ CustomCodeNode (è‡ªå®šä¹‰ä»£ç èŠ‚ç‚¹)
â”œâ”€â”€ CustomImageNode (è‡ªå®šä¹‰å›¾ç‰‡èŠ‚ç‚¹)
â”œâ”€â”€ DemoBoard (ç‹¬ç«‹æ¼”ç¤º)
â””â”€â”€ TestBoard (é›†æˆæµ‹è¯•)
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

1. **ç‹¬ç«‹å¼€å‘æµ‹è¯•**: ä½¿ç”¨ `DemoBoard` ç‹¬ç«‹æµ‹è¯•æ–°èŠ‚ç‚¹ç±»å‹
2. **é›†æˆéªŒè¯**: ä½¿ç”¨ `TestBoard` éªŒè¯ä¸åŸé¡¹ç›®çš„å…¼å®¹æ€§
3. **ç”Ÿäº§æ›¿æ¢**: ä½¿ç”¨ `NodeLayoutReplacement` ç›´æ¥æ›¿æ¢åŸé¡¹ç›®çš„ NodeLayout
4. **æ‰©å±•å¼€å‘**: å‚è€ƒ `CustomCodeNode` å’Œ `CustomImageNode` å¼€å‘æ–°çš„èŠ‚ç‚¹ç±»å‹

è¿™ä¸ªæµ‹è¯•æ¼”ç¤ºç³»ç»Ÿæä¾›äº†å®Œæ•´çš„æœ¬åœ°åŒ…é›†æˆæ–¹æ¡ˆï¼Œæ—¢ä¿è¯äº†å‘åå…¼å®¹æ€§ï¼Œåˆæä¾›äº†å¼ºå¤§çš„æ‰©å±•èƒ½åŠ›ã€‚
        
